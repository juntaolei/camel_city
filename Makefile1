MODULES=buildings state gui
OBJECTS=$(MODULES:=.cmo)
MLS=$(MODULES:=.ml)
MLIS=$(MODULES:=.mli)
TEST=test.byte
MAIN=main.byte
OCAMLBUILD=ocamlbuild -use-ocamlfind



build:
	dune build --profile dev
	$(OCAMLBUILD) $(OBJECTS)
build-release:
	dune build

install:
	opam install -y dune js_of_ocaml js_of_ocaml-compiler js_of_ocaml-ppx js_of_ocaml-lwt ounit yojson

clean:
	dune clean

test:
	dune runtest